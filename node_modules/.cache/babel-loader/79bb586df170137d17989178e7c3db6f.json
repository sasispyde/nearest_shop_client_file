{"ast":null,"code":"var _jsxFileName = \"E:\\\\New folder\\\\nearest_shop_client_file\\\\src\\\\components\\\\country\\\\Add_country.js\";\nimport React from 'react';\nimport validator from '../../validation/country/country_validation';\nimport axios from '../../axios';\n\nclass AddCategory extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      country_name: \"\",\n      country_image: null,\n      image_name: 'Choose File...',\n      image_preview: '',\n      error: {\n        country_name_error: \"\",\n        country_image_error: ''\n      }\n    };\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let data = [];\n    data[0] = this.state.country_name;\n    data[1] = this.state.country_image;\n    let validation = validator.validate_country_form(data);\n\n    if (Object.keys(validation).length > 0) {\n      this.setState({\n        error: validation\n      });\n    } else {\n      const formData = new FormData();\n      formData.append('myImage', this.state.country_image);\n      formData.append('name', this.state.country_name);\n      const config = {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      };\n      axios.post(\"/country/add_country\", data, config).then(response => {\n        console.log(response);\n        alert(\"The file is successfully uploaded\");\n      }).catch(error => {}); // axios.post('/country/add_country').then((result)=> {\n      // \tconsole.log(result);\n      // }).catch((err)=>{\n      // \tconsole.log(err);\n      // })\n    }\n  }\n\n  handleCountryName(event) {\n    this.setState({\n      country_name: event.target.value\n    });\n  }\n\n  handleImageChange(event) {\n    this.setState({\n      country_image: event.target.files[0],\n      image_name: event.target.files[0].name,\n      image_preview: URL.createObjectURL(event.target.files[0])\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginTop: '30px'\n      },\n      className: \" form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Country Name\"), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleCountryName.bind(this),\n      value: this.state.country_name,\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      style: {\n        color: \"red\",\n        margin: 'auto auto auto auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, this.state.error.country_name_error))), React.createElement(\"div\", {\n      className: \" form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Country Image\"), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"custom-file input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.handleImageChange.bind(this),\n      type: \"file\",\n      accept: \"image/*\",\n      className: \"custom-file-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-file-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.state.image_name)), React.createElement(\"p\", {\n      style: {\n        color: \"red\",\n        margin: 'auto auto auto auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.state.error.country_image_error))), this.state.image_preview !== \"\" && React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      style: {\n        width: '200px',\n        height: '200px'\n      },\n      src: this.state.image_preview,\n      className: \"img-fluid img-thumbnail\",\n      alt: \"Preview File\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      style: {\n        margin: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-outline-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default AddCategory;","map":{"version":3,"sources":["E:/New folder/nearest_shop_client_file/src/components/country/Add_country.js"],"names":["React","validator","axios","AddCategory","Component","constructor","props","state","country_name","country_image","image_name","image_preview","error","country_name_error","country_image_error","handleSubmit","event","preventDefault","data","validation","validate_country_form","Object","keys","length","setState","formData","FormData","append","config","headers","post","then","response","console","log","alert","catch","handleCountryName","target","value","handleImageChange","files","name","URL","createObjectURL","render","bind","marginTop","color","margin","width","height"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport validator from '../../validation/country/country_validation';\r\nimport axios from '../../axios';\r\n\r\nclass AddCategory extends React.Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcountry_name : \"\",\r\n\t\t\tcountry_image : null,\r\n\t\t\timage_name : 'Choose File...',\r\n\t\t\timage_preview : '',\r\n\t\t\terror : {\r\n\t\t\t\tcountry_name_error : \"\",\r\n\t\t\t\tcountry_image_error : ''\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleSubmit(event){\r\n\t\tevent.preventDefault();\r\n\t\tlet data = [];\r\n\t\tdata[0] = this.state.country_name;\r\n\t\tdata[1] = this.state.country_image;\r\n\t\tlet validation = validator.validate_country_form(data);\r\n\t\tif (Object.keys(validation).length > 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\terror : validation\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst formData = new FormData();\r\n\t        formData.append('myImage',this.state.country_image);\r\n\t        formData.append('name',this.state.country_name);\r\n\t        const config = {\r\n\t            headers: {\r\n\t                'content-type': 'multipart/form-data'\r\n\t            }\r\n\t        };\r\n\t        axios.post(\"/country/add_country\",data,config)\r\n\t            .then((response) => {\r\n\t            \tconsole.log(response);\r\n\t                alert(\"The file is successfully uploaded\");\r\n\t            }).catch((error) => {\r\n\t        });\r\n\t\t\t// axios.post('/country/add_country').then((result)=> {\r\n\t\t\t// \tconsole.log(result);\r\n\t\t\t// }).catch((err)=>{\r\n\t\t\t// \tconsole.log(err);\r\n\t\t\t// })\r\n\t\t}\r\n\t}\r\n\r\n\thandleCountryName(event){\r\n\t\tthis.setState({\r\n\t\t\tcountry_name : event.target.value\r\n\t\t})\r\n\t}\r\n\r\n\thandleImageChange(event){\r\n\t\tthis.setState({\r\n\t\t\tcountry_image : event.target.files[0],\r\n\t\t\timage_name : event.target.files[0].name,\r\n\t\t\timage_preview : URL.createObjectURL(event.target.files[0])\r\n\t\t})\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form onSubmit={ this.handleSubmit.bind(this) }>\r\n\t\t\t\t\t<div style={{ marginTop : '30px' }} className=\" form-group row\">\r\n\t\t\t\t\t\t<label className=\"col-sm-2 col-form-label\">Country Name</label>\r\n\t\t\t\t\t\t<div className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t            type=\"text\"\r\n\t\t\t\t\t\t            onChange={this.handleCountryName.bind(this)}\r\n\t\t\t\t\t\t            value={this.state.country_name}\r\n\t\t\t\t\t\t            className =\"form-control\"\r\n\t\t\t\t\t\t        />\r\n\t\t\t\t\t        </div>\r\n\t\t\t\t        \t<p style={{color:\"red\",margin : 'auto auto auto auto'}} >{this.state.error.country_name_error}</p>\r\n\t\t\t\t        </div>\r\n\t\t\t\t    </div>\r\n\t\t\t\t    <div className=\" form-group row\">\r\n\t\t\t\t\t    <label className=\"col-sm-2 col-form-label\">Country Image</label>\r\n\t\t\t\t\t    <div className=\"col-sm-6\">\r\n\t\t\t\t\t        <div className=\"custom-file input-group\">\r\n\t\t\t\t\t\t\t    <input onChange={this.handleImageChange.bind(this)} type=\"file\" accept=\"image/*\" className=\"custom-file-input\" />\r\n\t\t\t\t\t\t\t    <label className=\"custom-file-label\" >{ this.state.image_name }</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p style={{color:\"red\",margin : 'auto auto auto auto'}} >{this.state.error.country_image_error}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.image_preview !== \"\" && \r\n\t\t\t\t\t\t<div className='text-center'>\r\n\t\t\t\t\t\t\t<img style={{ width : '200px', height : '200px' }} src = { this.state.image_preview } className=\"img-fluid img-thumbnail\" alt=\"Preview File\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t        <br />\r\n\t\t\t\t    <div className=\"form-group row\">\r\n\t\t\t\t\t    <div className=\"col-sm-6\" style={{ margin:'auto' }}>\r\n\t\t\t\t\t      <input type=\"submit\" className=\"btn btn-outline-primary\" />\r\n\t\t\t\t\t    </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t    </form>\r\n\t\t    </div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default AddCategory;"]},"metadata":{},"sourceType":"module"}