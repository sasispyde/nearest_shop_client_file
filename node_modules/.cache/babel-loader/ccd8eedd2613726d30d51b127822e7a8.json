{"ast":null,"code":"var _jsxFileName = \"/home/developer/Workarea/Sasi/idea1/client/dashboard2/src/components/category/Edit_category.js\";\nimport React from 'react';\nimport axios from '../../axios';\nlet id = \"\";\n\nclass EditCategory extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleText = i => e => {\n      let sub_category_name = [...this.state.sub_category_name];\n      sub_category_name[i] = e.target.value;\n      this.setState({\n        sub_category_name\n      });\n    };\n\n    this.handleCatName = i => e => {\n      //let category_name = [...this.state.cat_name]\n      let category_name = e.target.value;\n      this.setState({\n        cat_name: category_name\n      });\n    };\n\n    this.handleDelete = i => e => {\n      e.preventDefault();\n      let sub_category_name = [...this.state.sub_category_name.slice(0, i), ...this.state.sub_category_name.slice(i + 1)];\n      this.setState({\n        sub_category_name\n      });\n    };\n\n    this.addQuestion = e => {\n      e.preventDefault();\n      let sub_category_name = this.state.sub_category_name.concat(['']);\n      this.setState({\n        sub_category_name\n      });\n    };\n\n    this.state = {\n      data: [],\n      cat_name: [\"\"],\n      sub_category_name: []\n    };\n  }\n\n  componentDidMount() {\n    const url = window.location.href;\n    id = url.split(\"/\");\n    id = id[5];\n    axios.get(`/category/edit/${id}`).then(result => {\n      if (result.data.status) {\n        this.setState({\n          cat_name: result.data.data[0]['category_name'],\n          sub_category_name: result.data.data[0]['sub_category']\n        });\n      } else {\n        console.log(result.data.data);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let index_of_empty_string = this.state.sub_category_name.indexOf(\"\");\n\n    if (this.state.cat_name[0] !== \"\" && index_of_empty_string === -1) {\n      let data = {\n        category_name: this.state.cat_name,\n        sub_category_name: this.state.sub_category_name\n      };\n      axios.post(`/category/edit/${id}`, data, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }).then(result => {\n        console.log(result);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginTop: '30px'\n      },\n      className: \" form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Categoty Name\"), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleCatName(0),\n      value: this.state.cat_name,\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      title: \"Add Category\",\n      className: \"btn btn-outline-success btn-sm\",\n      onClick: this.addQuestion,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Add Sub Category\"))), this.state.sub_category_name.map((question, index) => React.createElement(\"div\", {\n      className: \" form-group row\",\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Sub Categoty Name \"), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleText(index),\n      value: question,\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      title: \"Remove\",\n      className: \"btn btn-outline-danger btn-sm\",\n      onClick: this.handleDelete(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"X\")))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      style: {\n        margin: 'auto'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default EditCategory;","map":{"version":3,"sources":["/home/developer/Workarea/Sasi/idea1/client/dashboard2/src/components/category/Edit_category.js"],"names":["React","axios","id","EditCategory","Component","constructor","props","handleText","i","e","sub_category_name","state","target","value","setState","handleCatName","category_name","cat_name","handleDelete","preventDefault","slice","addQuestion","concat","data","componentDidMount","url","window","location","href","split","get","then","result","status","console","log","catch","err","handleSubmit","event","index_of_empty_string","indexOf","post","headers","render","bind","marginTop","map","question","index","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from '../../axios';\n\nlet id = \"\";\nclass EditCategory extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata : [],\n\t\t\tcat_name : [\"\"],\n\t\t\tsub_category_name: []\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tconst url = window.location.href;\n\t\tid = url.split(\"/\");\n\t\tid = id[5];\n\t\taxios.get(`/category/edit/${id}`).then((result)=>{\n\t\t\tif(result.data.status){\n\t\t\t\tthis.setState({\n\t\t\t\t\tcat_name : result.data.data[0]['category_name'],\n\t\t\t\t\tsub_category_name : result.data.data[0]['sub_category']\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconsole.log(result.data.data)\n\t\t\t}\n\t\t}).catch((err)=>{\n\t\t\tconsole.log(err);\n\t\t})\n\t}\n\n\thandleSubmit(event){\n\t\tevent.preventDefault();\n\t\tlet index_of_empty_string = this.state.sub_category_name.indexOf(\"\");\n\t\tif(this.state.cat_name[0] !== \"\" && index_of_empty_string === -1){\n\t\t\tlet data = {\n\t\t\t\tcategory_name : this.state.cat_name,\n\t\t\t\tsub_category_name : this.state.sub_category_name\t\n\t\t\t}\n\t\t\taxios.post(`/category/edit/${id}`,data , { headers: {'Accept': 'application/json','Content-Type': 'application/json'}}).then((result)=>{\n\t\t\t\tconsole.log(result);\n\t\t\t}).catch((err)=>{\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t}\n\t}\n\n\thandleText = i => e => {\n\t    let sub_category_name = [...this.state.sub_category_name]\n\t    sub_category_name[i] = e.target.value\n\t    this.setState({\n\t      sub_category_name\n\t    })\n\t}\n\n\thandleCatName = i => e => {\n\t    //let category_name = [...this.state.cat_name]\n\t    let category_name = e.target.value\n\t    this.setState({\n\t      cat_name : category_name\n\t    })\n\t}\n\n\thandleDelete = i => e => {\n\t    e.preventDefault();\n\t    let sub_category_name = [\n\t      ...this.state.sub_category_name.slice(0, i),\n\t      ...this.state.sub_category_name.slice(i + 1)\n\t    ]\n\t    this.setState({\n\t      sub_category_name\n\t    })\n\t}\n\n\taddQuestion = e => {\n\t    e.preventDefault()\n\t    let sub_category_name = this.state.sub_category_name.concat([''])\n\t    this.setState({\n\t      sub_category_name\n\t    })\n\t}\n\n\trender(){\n\t\treturn(\n\t\t\t<>\n\t\t\t<div className=\"container\">\n\t\t\t\t<form onSubmit={ this.handleSubmit.bind(this) }>\n\t\t\t\t\t<div style={{ marginTop : '30px' }} className=\" form-group row\">\n\t\t\t\t\t\t<label className=\"col-sm-2 col-form-label\">Categoty Name</label>\n\t\t\t\t\t\t<div className=\"col-sm-6\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t            type=\"text\"\n\t\t\t\t\t            onChange={this.handleCatName(0)}\n\t\t\t\t\t            value={this.state.cat_name}\n\t\t\t\t\t            className =\"form-control\"\n\t\t\t\t\t        />\t\n\t\t\t\t        \t<button title=\"Add Category\" className=\"btn btn-outline-success btn-sm\" onClick={this.addQuestion}>Add Sub Category</button>\n\t\t\t\t        </div>\n\t\t\t\t    </div>\n\t\t\t        {this.state.sub_category_name.map((question, index) => (\n\t\t\t          <div className=\" form-group row\" key={index}>\n\t\t\t          \t<label className=\"col-sm-2 col-form-label\">Sub Categoty Name </label>\n\t\t\t            <div className=\"col-sm-6\">\n\t\t\t\t            <input\n\t\t\t\t              type=\"text\"\n\t\t\t\t              onChange={this.handleText(index)}\n\t\t\t\t              value={question}\n\t\t\t\t              className =\"form-control\"\n\t\t\t\t            />\n\t\t\t            \t<button title=\"Remove\" className=\"btn btn-outline-danger btn-sm\" onClick={this.handleDelete(index)}>X</button>\n\t\t\t            </div>\n\t\t\t          </div>\n\t\t\t        ))}\n\t\t\t        <br />\n\t\t\t\t    <div className=\"form-group row\">\n\t\t\t\t\t    <div className=\"col-sm-6\" style={{ margin:'auto' }}>\n\t\t\t\t\t      <input type=\"submit\" className=\"btn btn-primary\" />\n\t\t\t\t\t    </div>\n\t\t\t\t\t</div>\n\t\t\t    </form>\n\t\t    </div>\n\t\t\t</>\n\t\t)\n\t}\n}\n\nexport default EditCategory"]},"metadata":{},"sourceType":"module"}